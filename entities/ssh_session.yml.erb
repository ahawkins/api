---
"$schema": http://json-schema.org/draft-04/hyper-schema
title: SshSession
description: User's active ssh sessions
stability: prototype
strictProperties: true
type:
- object
definitions:
  id:
    description: unique identifier of the ssh_session
    readOnly: true
    format: uuid
    type:
    - string
  identity:
    anyOf:
    - "$ref": "/schemata/ssh_session#/definitions/id"
  source_thread_id:
    description: unique identifier of the ssh_session's source thread
    readOnly: true
    format: uuid
    type:
    - string
  url:
    description: link to the ssh_sessions in the API
    example: "https://semaphoreci.com/api/internal/{project_owner_name}/{project_name}/ssh_sessions{/id}"
    readOnly: true
    type:
      - string
  pusher_chanel:
    description: name of pusher chanel
    readOnly: true
    type:
    - string
  ready_at:
    description: when ssh_session started
    format: date-time
    type:
    - string
  ssh_command:
    description: command to enter build server
    readOnly: true
    type:
    - string
  state:
    description: state of ssh_session
    readOnly: true
    type:
    - string
    enum:
      - missing_ssh_key
      - ready
      - penging
      - starting
      - stopping
      - not_created
  owner:
    description: username of the user who started the ssh_session
    readOnly: true
    type:
    - string
  collaborators_with_sessions:
    description: collaborators with active ssh sessions on thread
    readOnly: true
    type:
    - array
links:
- description: Get existing ssh_session.
  href: "/<%= identity(:owner, :project) %>/ssh_sessions/<%= identity(:ssh_session) %>"
  method: GET
  rel: self
  title: Show
- description: Create a new ssh_session.
  href: "/<%= identity(:owner, :project) %>/ssh_sessions"
  method: POST
  rel: self
  schema:
    properties:
      source_thread_id:
        "$ref": "/schemata/ssh_session#/definitions/source_thread_id"
    required:
      - source_thread_id
    type:
    - object
  title: Create
- description: Update an existing ssh_session.
  href: "/<%= identity(:owner, :project) %>/ssh_sessions/<%= identity(:ssh_session) %>"
  method: PUT
  rel: self
  schema:
    properties:
      state:
        "$ref": "/schemata/ssh_session#/definitions/state"
        enum:
          - finished
    required:
      - state
    type:
    - object
  title: Update
- description: List ssh_sessions for a build.
  href: "/<%= identity(:owner, :project) %>/builds/<%= identity(:build) %>/ssh_sessions"
  method: GET
  rel: instances
  title: List for Build
properties:
  id:
    "$ref": "/schemata/ssh_session#/definitions/id"
  source_thread_id:
    "$ref": "/schemata/ssh_session#/definitions/source_thread_id"
  url:
    "$ref": "/schemata/ssh_session#/definitions/url"
  pusher_chanel:
    "$ref": "/schemata/ssh_session#/definitions/pusher_chanel"
  ready_at:
    "$ref": "/schemata/ssh_session#/definitions/ready_at"
  ssh_command:
    "$ref": "/schemata/ssh_session#/definitions/ssh_command"
  state:
    "$ref": "/schemata/ssh_session#/definitions/state"
  owner:
    "$ref": "/schemata/ssh_session#/definitions/owner"
  collaborators_with_sessions:
    "$ref": "/schemata/ssh_session#/definitions/collaborators_with_sessions"
id: schemata/ssh_session
