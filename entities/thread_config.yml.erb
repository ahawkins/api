---
"$schema": http://json-schema.org/draft-04/hyper-schema
title: ThreadConfig
description: A ThreadConfig represents a list of commands that will be used for future builds.
stability: prototype
strictProperties: true
type:
- object
definitions:
  id:
    description: unique identifier of thread_config
    readOnly: true
    format: uuid
    type:
      - string

  name:
    description: name of thread_config
    readOnly: false
    example: "Rspec 2/4"
    type:
      - string

  identity:
    anyOf:
      - "$ref": "/schemata/thread_config#/definitions/id"

  url:
    description: a link to the thread_config
    example: "https://semaphoreci.com/api/internal/renderedtext/semaphore/thread_configs{/id}"
    readOnly: true
    type:
      - string

  type:
    description: Type of a thread.
    readOnly: false
    example: "setup"
    type:
      - string
    enum:
      - setup
      - thread
      - post_thread

  commands:
    description: A list of commands that define a thread configuration.
    readOnly: false
    example: ["sudo apt-get install wget -y", "bundle exec rake:spec"]
    type: "array"
    type:
      - string

  created_at:
    description: when thread_config was created
    format: date-time
    type:
      - string

  updated_at:
    description: when thread_config was updated
    format: date-time
    type:
      - string

links:
 - description: List existing thread_configs.
   href: "/<%= identity(:owner) %>/<%= identity(:project) %>/thread_configs"
   method: GET
   rel: instances
   title: List

 - description: Delete an existing thread_config.
   href: "/<%= identity(:owner) %>/<%= identity(:project) %>/thread_configs/<%= identity(:thread_config) %>"
   method: DELETE
   rel: destroy
   title: Delete

 - description: Info for existing thread_config.
   href: "/<%= identity(:owner) %>/<%= identity(:project) %>/thread_configs/<%= identity(:thread_config) %>"
   method: GET
   rel: self
   title: Info

 - description: Create a new thread_config.
   href: "/<%= identity(:owner) %>/<%= identity(:project) %>/thread_configs"
   method: POST
   rel: create
   schema:
     properties:
       name:
         "$ref": "/schemata/thread_config#/definitions/name"
       type:
         "$ref": "/schemata/thread_config#/definitions/type"
       commands:
         "$ref": "/schemata/thread_config#/definitions/commands"
     required:
       - name
       - type
       - commands
     type:
     - object
   title: Create

 - description: Update an existing thread_config.
   href: "/<%= identity(:owner) %>/<%= identity(:project) %>/thread_configs/<%= identity(:thread_config) %>"
   method: PATCH
   rel: update
   schema:
     properties:
       name:
         "$ref": "/schemata/thread_config#/definitions/name"
       type:
         "$ref": "/schemata/thread_config#/definitions/type"
       commands:
         "$ref": "/schemata/thread_config#/definitions/commands"
     required:
       - name
       - type
       - commands
     type:
     - object
   title: Update

properties:
  id:
    "$ref": "/schemata/thread_config#/definitions/id"
  name:
    "$ref": "/schemata/thread_config#/definitions/name"
  url:
    "$ref": "/schemata/thread_config#/definitions/url"
  type:
    "$ref": "/schemata/thread_config#/definitions/type"
  commands:
    "$ref": "/schemata/thread_config#/definitions/commands"
  created_at:
    "$ref": "/schemata/thread_config#/definitions/created_at"
  updated_at:
    "$ref": "/schemata/thread_config#/definitions/updated_at"

id: schemata/thread_config
